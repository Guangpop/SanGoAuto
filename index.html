<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="三國天命放置小遊戲 - Three Kingdoms Destiny Idle Game">
    <title>三國天命 | SanGoAuto</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/images/favicon.png">

    <!-- CSS -->
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/animations.css">

    <!-- Preload critical resources -->
    <link rel="preload" href="js/core/game-engine.js" as="script">
    <link rel="preload" href="js/data/skills.json" as="fetch" crossorigin="anonymous">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="screen active">
        <div class="loading-content">
            <h1>三國天命</h1>
            <div class="loading-spinner"></div>
            <p id="loading-text">正在載入遊戲資源...</p>
        </div>
    </div>

    <!-- Main Menu -->
    <div id="main-menu" class="screen">
        <div class="menu-content">
            <header class="game-header">
                <h1 class="game-title">三國天命</h1>
                <p class="game-subtitle">放置養成小遊戲</p>
            </header>

            <nav class="main-nav">
                <button id="start-new-game" class="btn btn-primary">開始新遊戲</button>
                <button id="load-game" class="btn btn-secondary">載入遊戲</button>
                <button id="show-rules" class="btn btn-secondary">遊戲規則</button>
                <button id="show-settings" class="btn btn-secondary">設定</button>
            </nav>
        </div>
    </div>

    <!-- Skill Selection Screen -->
    <div id="skill-selection" class="screen">
        <div class="selection-content">
            <header class="selection-header">
                <h2>天命技能選擇</h2>
                <div class="stars-info">
                    <span>剩餘星星：</span>
                    <span id="remaining-stars" class="stars-count">10</span>
                    <span>輪數：</span>
                    <span id="current-round">1</span>/3
                </div>
            </header>

            <div class="skills-container">
                <div id="available-skills" class="skills-grid">
                    <!-- Skills will be populated by JavaScript -->
                </div>
            </div>

            <div class="selection-controls">
                <button id="skip-skill" class="btn btn-secondary">跳過此輪</button>
                <button id="confirm-selection" class="btn btn-primary" disabled>確認選擇</button>
            </div>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="game-screen" class="screen">
        <!-- Player Info Panel -->
        <header class="game-header">
            <div class="player-info">
                <div class="player-basic">
                    <h3 id="player-name">玩家</h3>
                    <span class="player-level">Lv.<span id="player-level">1</span></span>
                </div>
                <div class="player-attributes">
                    <div class="attribute">
                        <span class="attr-label">武力</span>
                        <span id="attr-strength" class="attr-value">10</span>
                    </div>
                    <div class="attribute">
                        <span class="attr-label">智力</span>
                        <span id="attr-intelligence" class="attr-value">10</span>
                    </div>
                    <div class="attribute">
                        <span class="attr-label">統治</span>
                        <span id="attr-leadership" class="attr-value">10</span>
                    </div>
                    <div class="attribute">
                        <span class="attr-label">政治</span>
                        <span id="attr-politics" class="attr-value">10</span>
                    </div>
                    <div class="attribute">
                        <span class="attr-label">魅力</span>
                        <span id="attr-charisma" class="attr-value">10</span>
                    </div>
                </div>
                <div class="player-resources">
                    <div class="resource">
                        <span class="resource-label">金錢</span>
                        <span id="player-gold" class="resource-value">0</span>
                    </div>
                    <div class="resource">
                        <span class="resource-label">兵力</span>
                        <span id="player-troops" class="resource-value">100</span>
                    </div>
                    <div class="resource">
                        <span class="resource-label">城池</span>
                        <span id="cities-controlled" class="resource-value">1</span>
                    </div>
                </div>
            </div>

            <div class="game-controls">
                <button id="pause-game" class="btn btn-small">暫停</button>
                <div class="speed-control">
                    <button id="speed-1x" class="speed-btn active">1x</button>
                    <button id="speed-2x" class="speed-btn">2x</button>
                    <button id="speed-4x" class="speed-btn">4x</button>
                </div>
                <button id="save-game" class="btn btn-small">存檔</button>
            </div>
        </header>

        <!-- Main Game Area -->
        <main class="game-main">
            <!-- Event Log -->
            <section class="event-log">
                <header class="section-header">
                    <h3>事件記錄</h3>
                    <button id="clear-log" class="btn btn-small">清除</button>
                </header>
                <div id="event-messages" class="messages-container">
                    <!-- Event messages will be populated by JavaScript -->
                </div>
            </section>

            <!-- Map Overview -->
            <section class="map-overview">
                <header class="section-header">
                    <h3>天下大勢</h3>
                </header>
                <div id="game-map" class="map-container">
                    <!-- Map will be rendered by JavaScript -->
                </div>
            </section>
        </main>
    </div>

    <!-- Game Over Screen -->
    <div id="game-over" class="screen">
        <div class="game-over-content">
            <h2 id="game-result-title">遊戲結束</h2>
            <div id="game-stats" class="stats-container">
                <!-- Game statistics will be populated by JavaScript -->
            </div>
            <div class="game-over-controls">
                <button id="restart-game" class="btn btn-primary">重新開始</button>
                <button id="return-menu" class="btn btn-secondary">返回主選單</button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <header class="modal-header">
                <h3>遊戲設定</h3>
                <button class="modal-close">&times;</button>
            </header>
            <div class="modal-body">
                <div class="setting-group">
                    <label for="language-select">語言 / Language:</label>
                    <select id="language-select">
                        <option value="zh">中文</option>
                        <option value="en">English</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label>音效設定:</label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="sound-enabled" checked>
                        <span>音效</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="music-enabled" checked>
                        <span>背景音樂</span>
                    </label>
                </div>
                <div class="setting-group">
                    <label for="autosave-interval">自動存檔間隔 (秒):</label>
                    <input type="range" id="autosave-interval" min="30" max="300" value="60" step="30">
                    <span id="autosave-display">60</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Rules Modal -->
    <div id="rules-modal" class="modal">
        <div class="modal-content">
            <header class="modal-header">
                <h3>遊戲規則</h3>
                <button class="modal-close">&times;</button>
            </header>
            <div class="modal-body">
                <div class="rules-content">
                    <!-- Game rules will be loaded from i18n -->
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/utils/helpers.js"></script>
    <script src="js/utils/logger.js"></script>
    <script src="js/core/game-engine.js"></script>
    <script src="js/ui/ui-manager.js"></script>
    <script src="js/core/demo.js"></script>
</body>
</html>